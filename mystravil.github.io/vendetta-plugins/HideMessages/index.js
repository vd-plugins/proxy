(function(R,a,e,b,t,U,i,u,$,l,V){"use strict";var E={Failed:t.getAssetIDByName("Small"),Delete:t.getAssetIDByName("ic_message_delete"),Copy:t.getAssetIDByName("toast_copy_link"),Open:t.getAssetIDByName("ic_leave_stage"),Clipboard:t.getAssetIDByName("pending-alert"),Clock:t.getAssetIDByName("clock"),Forum:t.getAssetIDByName("ic_forum_channel"),Settings:{Toasts:{Settings:t.getAssetIDByName("ic_selection_checked_24px"),Failed:t.getAssetIDByName("ic_close_circle_24px")},Initial:t.getAssetIDByName("coffee"),Update:t.getAssetIDByName("discover"),Locale:t.getAssetIDByName("ic_locale_24px"),External:t.getAssetIDByName("ic_raised_hand_list"),Edit:t.getAssetIDByName("ic_edit_24px"),Reply:t.getAssetIDByName("ic_reply_24px")}},g={shadow:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:.1;return{shadowColor:"#000",shadowOffset:{width:1,height:4},shadowOpacity:n,shadowRadius:4.65,elevation:8}},displayToast:function(n,r){e.toasts.open({content:r=="clipboard"?`Copied ${n} to clipboard.`:n,source:r=="clipboard"?E.Clipboard:E.Settings.Initial})}},I={plugin:{source:"https://github.com/MYSTRAVIL/vendetta-plugins"},author:{profile:{MYSTRAVIL:"https://github.com/mystravil"}}};const{TouchableOpacity:A,View:_,Image:Y,Text:S,Animated:f}=u.General,P=a.findByProps("transitionToGuild"),v=a.findByStoreName("UserStore"),H=a.findByProps("showUserProfile"),s=e.stylesheet.createThemedStyleSheet({container:{marginTop:25,marginLeft:"5%",marginBottom:-15,flexDirection:"row"},textContainer:{paddingLeft:15,paddingTop:5,flexDirection:"column",flexWrap:"wrap",...g.shadow()},image:{width:75,height:75,borderRadius:10,...g.shadow()},mainText:{opacity:.975,letterSpacing:.25},header:{color:l.semanticColors.HEADER_PRIMARY,fontFamily:e.constants.Fonts.DISPLAY_BOLD,fontSize:25,letterSpacing:.25},subHeader:{color:l.semanticColors.HEADER_SECONDARY,fontSize:12.75}});function G(n){let{name:r,authors:o}=n;const c=e.React.useRef(new f.Value(1)).current,d=function(){return f.spring(c,{toValue:1.1,duration:10,useNativeDriver:!0}).start()},B=function(){return f.spring(c,{toValue:1,duration:250,useNativeDriver:!0}).start()},w=function(){return H.showUserProfile({userId:v.getCurrentUser().id})},O={transform:[{scale:c}]};return e.React.createElement(e.React.Fragment,null,e.React.createElement(_,{style:s.container},e.React.createElement(A,{onPress:w,onPressIn:d,onPressOut:B},e.React.createElement(f.View,{style:O},e.React.createElement(Y,{style:[s.image],source:{uri:v?.getCurrentUser()?.getAvatarURL()?.replace("webp","png")}}))),e.React.createElement(_,{style:s.textContainer},e.React.createElement(A,{onPress:function(){return P.openURL(I.plugin.source)}},e.React.createElement(S,{style:[s.mainText,s.header]},r)),e.React.createElement(_,{style:{flexDirection:"row"}},e.React.createElement(S,{style:[s.mainText,s.subHeader]},"A project by"),o.map(function(p,y,T){return e.React.createElement(A,{onPress:function(){return P.openURL(I.author.profile[p.name]??"https://github.com/")}},e.React.createElement(S,{style:[s.mainText,s.subHeader,{paddingLeft:4,fontFamily:e.constants.Fonts.DISPLAY_BOLD,flexDirection:"row"}]},p.name,y<T.length-1?",":null))})))))}const{View:z,Text:k}=u.General,C=e.stylesheet.createThemedStyleSheet({text:{color:l.semanticColors.HEADER_SECONDARY,paddingLeft:"5.5%",paddingRight:10,marginBottom:10,letterSpacing:.25,fontFamily:e.constants.Fonts.PRIMARY_BOLD,fontSize:12}});function L(n){let{label:r,children:o}=n;return e.React.createElement(z,{style:{marginTop:10}},e.React.createElement(k,{style:[C.text,C.optionText]},r.toUpperCase()),o)}const{FormRow:D,FormDivider:j,FormInput:W,FormText:K}=u.Forms,{ScrollView:X,View:x,Text:q}=u.General,J=a.findByProps("transitionToGuild","openURL"),h=e.stylesheet.createThemedStyleSheet({icon:{color:l.semanticColors.INTERACTIVE_NORMAL},item:{color:l.semanticColors.TEXT_MUTED,fontFamily:e.constants.Fonts.PRIMARY_MEDIUM},container:{width:"90%",marginLeft:"5%",borderRadius:10,backgroundColor:l.semanticColors.BACKGROUND_MOBILE_SECONDARY,...g.shadow()},subheaderText:{color:l.semanticColors.HEADER_SECONDARY,textAlign:"center",margin:10,marginBottom:50,letterSpacing:.25,fontFamily:e.constants.Fonts.PRIMARY_BOLD,fontSize:14},image:{width:"100%",maxWidth:350,borderRadius:10}});function Q(){return $.useProxy(i.storage),e.React.createElement(X,null,e.React.createElement(G,{name:i.manifest.name,authors:i.manifest.authors}),e.React.createElement(x,{style:{marginTop:20}},e.React.createElement(L,{label:"Preferences"},e.React.createElement(x,{style:[h.container]},e.React.createElement(W,{value:i.storage.hideMessagesIndex,onChange:function(n){i.storage.hideMessagesIndex=n},placeholder:"2",title:"Position Index"}),e.React.createElement(j,null),e.React.createElement(K,{style:{padding:10}},'The index at which the "Hide Message" Button will be inserted. 2 by default.'))),e.React.createElement(L,{label:"Source"},e.React.createElement(x,{style:h.container},e.React.createElement(D,{label:"Source",subLabel:`Open the repository of ${i.manifest.name} externally.`,onLongPress:function(){return g.displayToast(`Opens the repository of ${i.manifest.name} on GitHub in an external page to view any source code of the plugin.`,"tooltip")},leading:e.React.createElement(D.Icon,{style:h.icon,source:E.Open}),trailing:function(){return e.React.createElement(D.Arrow,null)},onPress:function(){return J.openURL(I.plugin.source)}})))),e.React.createElement(q,{style:h.subheaderText},`Build: (${i.manifest.hash.substring(0,8)})`))}const{ActionSheetRow:m}=a.findByProps("ActionSheetRow"),{FormRow:N}=a.findByProps("FormRow");function Z(n){let{label:r,icon:o,onPress:c}=n;const d=e.stylesheet.createThemedStyleSheet({iconComponent:{width:24,height:24,tintColor:l.semanticColors.INTERACTIVE_NORMAL}});return m?React.createElement(m,{label:r,icon:React.createElement(m.Icon,{source:o,IconComponent:function(){return React.createElement(e.ReactNative.Image,{resizeMode:"cover",style:d.iconComponent,source:o})}}),onPress:c}):React.createElement(N,{label:r,leading:React.createElement(N.Icon,{source:o}),onPress:c})}a.findByProps("showUserProfile"),a.findByProps("fetchProfile"),a.findByStoreName("UserStore"),a.findByProps("TextStyleSheet");let M=[];const F=a.findByProps("openLazy","hideActionSheet");function ee(){V.logger.log("HideMessages: Index at ",i.storage.hideMessagesIndex),M.push(b.before("openLazy",F,function(n){let[r,o,c]=n;const d=c?.message;o!="MessageLongPressActionSheet"||!d||r.then(function(B){const w=b.after("default",B,function(O,p){e.React.useEffect(function(){return function(){w()}},[]);const y=U.findInReactTree(p,function(T){return T?.[0]?.type?.name==="ButtonRow"});y&&y.splice(i.storage.hideMessagesIndex||2,0,e.React.createElement(Z,{label:"Hide Message",icon:t.getAssetIDByName("ic_close_16px"),onPress:function(){e.FluxDispatcher.dispatch({type:"MESSAGE_DELETE",channelId:d.channel_id,id:d.id,__vml_cleanup:!0,otherPluginBypass:!0}),F.hideActionSheet()}}))})})}))}var te={onLoad:ee,onUnload:function(){for(const n of M)n()},settings:Q};return R.default=te,Object.defineProperty(R,"__esModule",{value:!0}),R})({},vendetta.metro,vendetta.metro.common,vendetta.patcher,vendetta.ui.assets,vendetta.utils,vendetta.plugin,vendetta.ui.components,vendetta.storage,vendetta.ui,vendetta);
