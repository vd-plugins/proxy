(function(g,v,i,p,h,c,l,C,I,u,y){"use strict";const{canUseIncreasedMessageLength:A}=i.findByProps("canUseIncreasedMessageLength");function R(t){return s.commas?t.toString().split("").reverse().map(function(n,e,r){return e%3===0&&r.length>3&&e!==0?`${n},`:n}).reverse().join(""):t.toString()}function B(){return Object.keys(C.plugins).find(function(t){return t.includes("SplitLargeMessages")})?1/0:A()?4e3:2e3}const{TextStyleSheet:b}=i.findByProps("TextStyleSheet"),{Text:w,View:_}=l.General,d=c.stylesheet.createThemedStyleSheet({text:{...b["text-xs/semibold"],backgroundColor:u.semanticColors.BACKGROUND_TERTIARY,borderRadius:8,textAlign:"right",marginRight:8,marginTop:-12,paddingHorizontal:8,paddingVertical:8},normal:{color:u.semanticColors.TEXT_NORMAL},jinkies:{color:u.semanticColors.TEXT_DANGER}});function P(t){let{thing:n}=t;const[e,r]=c.React.useState("");n.runner=function(U){return r(U)};const a=e.length,o=B(),H=d.text.fontSize*2+d.text.paddingVertical;return c.React.createElement(_,{style:{flexDirection:"row-reverse",position:"absolute",right:0,top:-H,zIndex:1}},c.React.createElement(w,{style:{...d.text,color:a<=o?d.normal.color:d.jinkies.color}},R(a),"/",o!==1/0?R(o):"\u221E"))}const{ChatInput:D}=i.findByProps("ChatInput"),{MessagesWrapper:M}=i.findByProps("MessagesWrapper");let f=[];function N(){return f.push(p.after("render",D.prototype,function(t,n){const e=h.findInReactTree(n,function(o){return typeof o?.placeholder=="string"});if(!e?.onChangeText)return;const r=h.findInReactTree(n,function(o){return o?.type?.displayName==="View"&&Array.isArray(o?.props?.children)})?.props?.children;if(!r)return console.log("no children");let a={runner:function(){}};e.onChangeText=function(o){return a.runner(o)},r.unshift(React.createElement(P,{thing:a}))})),f.push(p.after("render",M.prototype,function(t,n){const e=h.findInReactTree(n,function(r){return r?.type?.name==="JumpToPresentButton"});e&&f.push(p.after("type",e,function(r,a){a?.props?.style&&(a.props.style[1].bottom+=32+8)}))})),function(){f.forEach(function(t){return t()}),f=[]}}const{TextStyleSheet:F}=i.findByProps("TextStyleSheet"),{View:m,Text:T}=l.General,{FormRow:V}=l.Forms;function S(t){const n=i.findByProps("colors","meta"),e=i.findByStoreName("ThemeStore");return n.meta.resolveSemanticColor(e.theme,t)}function z(t){let{title:n,icon:e,children:r,padding:a}=t;const o=c.stylesheet.createThemedStyleSheet({mainText:{fontFamily:c.constants.Fonts.PRIMARY_SEMIBOLD,fontSize:14,includeFontPadding:!1,letterSpacing:void 0,lineHeight:18,textTransform:"none",color:S(u.semanticColors.HEADER_SECONDARY)},main:{backgroundColor:S(u.semanticColors.BACKGROUND_TERTIARY),borderRadius:16,overflow:"hidden",flex:1}});return React.createElement(m,{style:{marginHorizontal:16,marginTop:16}},React.createElement(m,{style:{marginBottom:8,flexDirection:"row",justifyContent:"flex-start",alignItems:"center"}},e&&React.createElement(m,{style:{marginRight:4}},React.createElement(V.Icon,{source:e,size:"small"})),React.createElement(T,{style:o.mainText},n)),React.createElement(m,{style:o.main},a?React.createElement(m,{style:{paddingHorizontal:16,paddingVertical:16}},r):r))}var E;(function(t){function n(e){let{children:r}=e;return React.createElement(T,{style:F["text-md/bold"]},r)}t.Bold=n})(E||(E={}));const{ScrollView:G}=l.General,{FormSwitchRow:L,FormRow:O}=l.Forms;function j(){return s.commas??=!0,I.useProxy(s),React.createElement(G,null,React.createElement(z,{title:"Settings",icon:y.getAssetIDByName("ic_cog_24px")},React.createElement(L,{label:"Add Thousand Seperators",subLabel:"Adds thousand seperators (1,234,567) to numbers",leading:React.createElement(O.Icon,{source:y.getAssetIDByName("ic_message_edit")}),onValueChange:function(){s.commas=!s.commas},value:s.commas})))}const s=v.storage;let x;var k={onLoad:function(){return x=N()},onUnload:function(){return x?.()},settings:j};return g.default=k,g.vstorage=s,Object.defineProperty(g,"__esModule",{value:!0}),g})({},vendetta.plugin,vendetta.metro,vendetta.patcher,vendetta.utils,vendetta.metro.common,vendetta.ui.components,vendetta.plugins,vendetta.storage,vendetta.ui,vendetta.ui.assets);
